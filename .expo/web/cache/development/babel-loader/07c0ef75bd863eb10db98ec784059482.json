{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Constants from 'expo-constants';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { fr, en } from \"./languages\";\n\nvar ItemView = function (_React$Component) {\n  _inherits(ItemView, _React$Component);\n\n  var _super = _createSuper(ItemView);\n\n  function ItemView() {\n    var _this;\n\n    _classCallCheck(this, ItemView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.deleteItem = function () {\n      var id = _this.props.item.id;\n\n      _this.props.deleteItem(id);\n    };\n\n    return _this;\n  }\n\n  _createClass(ItemView, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$item = this.props.item,\n          url = _this$props$item.url,\n          name = _this$props$item.name,\n          price = _this$props$item.price;\n      return React.createElement(View, {\n        style: styles.itemContainer\n      }, React.createElement(Image, {\n        source: {\n          uri: url\n        },\n        style: {\n          width: '100%',\n          height: 200\n        }\n      }), React.createElement(Text, {\n        style: styles.itemName\n      }, name), React.createElement(Text, {\n        style: styles.itemPrice\n      }, price), React.createElement(Button, {\n        title: i18n.t(\"Delete\"),\n        onPress: this.deleteItem\n      }));\n    }\n  }]);\n\n  return ItemView;\n}(React.Component);\n\nvar App = function (_React$Component2) {\n  _inherits(App, _React$Component2);\n\n  var _super2 = _createSuper(App);\n\n  function App(props) {\n    var _this2;\n\n    _classCallCheck(this, App);\n\n    _this2 = _super2.call(this, props);\n\n    _this2.addItem = function () {\n      var _this2$state = _this2.state,\n          itemName = _this2$state.itemName,\n          itemPrice = _this2$state.itemPrice,\n          itemUrl = _this2$state.itemUrl;\n      var id = new Date().getUTCMilliseconds();\n      var newItem = {\n        id: id,\n        name: itemName,\n        price: itemPrice,\n        url: itemUrl\n      };\n\n      _this2.setState(function (prevState) {\n        return {\n          items: [].concat(_toConsumableArray(prevState.items), [newItem])\n        };\n      });\n\n      _this2.closeModal();\n    };\n\n    _this2.deleteItem = function (idToDelete) {\n      _this2.setState(function (prevState) {\n        return {\n          items: prevState.items.filter(function (item) {\n            return item.id !== idToDelete;\n          })\n        };\n      });\n    };\n\n    _this2.renderItemForm = function () {\n      return React.createElement(View, {\n        style: styles.itemForm\n      }, React.createElement(TextInput, {\n        clearTextOnFocus: true,\n        placeholder: \"Nom\",\n        style: styles.input,\n        value: _this2.state.itemName,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            itemName: text\n          });\n        }\n      }), React.createElement(TextInput, {\n        clearTextOnFocus: true,\n        placeholder: \"Prix\",\n        style: styles.input,\n        value: _this2.state.itemPrice,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            itemPrice: text\n          });\n        }\n      }), React.createElement(TextInput, {\n        clearTextOnFocus: true,\n        placeholder: \"URL\",\n        style: styles.input,\n        value: _this2.state.itemUrl,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            itemUrl: text\n          });\n        }\n      }), React.createElement(Button, {\n        title: \"Ajouter\",\n        onPress: _this2.addItem\n      }));\n    };\n\n    _this2.showModal = function () {\n      _this2.setState({\n        showAddModal: true\n      });\n    };\n\n    _this2.closeModal = function () {\n      _this2.setState({\n        showAddModal: false\n      });\n    };\n\n    _this2.state = {\n      itemName: '',\n      itemPrice: '',\n      itemUrl: '',\n      items: [],\n      showAddModal: false\n    };\n    i18n.fallbacks = true;\n    i18n.translations = {\n      fr: fr,\n      en: en\n    };\n    i18n.locale = Localization.locale;\n    return _this2;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container\n      }, React.createElement(Button, {\n        title: \"Ajouter\",\n        onPress: this.showModal\n      }), React.createElement(Modal, {\n        visible: this.state.showAddModal,\n        animationType: \"slide\",\n        transparent: false\n      }, React.createElement(View, {\n        style: styles.modalContainer\n      }, this.renderItemForm())), React.createElement(ScrollView, null, this.state.items.map(function (item) {\n        return React.createElement(ItemView, {\n          key: item.id,\n          item: item,\n          deleteItem: _this3.deleteItem\n        });\n      })));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n    padding: 8\n  },\n  input: {\n    height: 40,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  itemForm: {\n    margin: 16\n  },\n  itemContainer: {\n    marginVertical: 16\n  },\n  itemName: {\n    fontSize: 20,\n    marginVertical: 4\n  },\n  itemPrice: {\n    fontSize: 16,\n    marginVertical: 4\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    height: 400,\n    borderColor: \"black\",\n    borderWidth: 1,\n    marginVertical: 64,\n    marginHorizontal: 16\n  }\n});","map":{"version":3,"sources":["C:/Users/bvjul/Documents/Cégep AEC Développement mobile/Session 2/PAM/TP2/TP2_PAM/App.js"],"names":["React","Constants","Localization","i18n","fr","en","ItemView","deleteItem","id","props","item","url","name","price","styles","itemContainer","uri","width","height","itemName","itemPrice","t","Component","App","addItem","state","itemUrl","Date","getUTCMilliseconds","newItem","setState","prevState","items","closeModal","idToDelete","filter","renderItemForm","itemForm","input","text","showModal","showAddModal","fallbacks","translations","locale","container","modalContainer","map","StyleSheet","create","flex","justifyContent","paddingTop","statusBarHeight","backgroundColor","padding","marginVertical","borderWidth","margin","fontSize","borderColor","marginHorizontal"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Text, View, StyleSheet, Button, TextInput, Image, ScrollView, Modal } from 'react-native';\nimport Constants from 'expo-constants';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { fr, en } from './languages';\n\nclass ItemView extends React.Component {\n  deleteItem = () => {\n    const id = this.props.item.id;\n    this.props.deleteItem(id);\n  };\n\n  render() {\n    const { url, name, price } = this.props.item;\n    return (\n      <View style={styles.itemContainer}>\n        <Image source={{ uri: url }} style={{ width: '100%', height: 200 }} />\n        <Text style={styles.itemName}>{name}</Text>\n        <Text style={styles.itemPrice}>{price}</Text>\n        <Button title={i18n.t(\"Delete\")} onPress={this.deleteItem} />\n      </View>\n    );\n  }\n}\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemName: '',\n      itemPrice: '',\n      itemUrl: '',\n      items: [],\n      showAddModal: false,\n    };\n    i18n.fallbacks = true;\n    i18n.translations = { fr, en };\n    i18n.locale = Localization.locale;\n  }\n\n  addItem = () => {\n    const { itemName, itemPrice, itemUrl } = this.state;\n    const id = new Date().getUTCMilliseconds();\n\n    const newItem = {\n      id: id,\n      name: itemName,\n      price: itemPrice,\n      url: itemUrl,\n    };\n\n    this.setState((prevState) => ({\n      items: [...prevState.items, newItem],\n    }));\n    this.closeModal();\n  };\n\n  deleteItem = (idToDelete) => {\n    this.setState((prevState) => ({\n      items: prevState.items.filter((item) => item.id !== idToDelete),\n    }));\n  };\n\n  renderItemForm = () => {\n    return (\n      <View style={styles.itemForm}>\n        <TextInput clearTextOnFocus\n          placeholder=\"Nom\"\n          style={styles.input}\n          value={this.state.itemName}\n          onChangeText={(text) => {\n            this.setState({ itemName: text });\n          }}\n        />\n        <TextInput clearTextOnFocus\n          placeholder=\"Prix\"\n          style={styles.input}\n          value={this.state.itemPrice}\n          onChangeText={(text) => {\n            this.setState({ itemPrice: text });\n          }}\n        />\n        <TextInput clearTextOnFocus\n          placeholder=\"URL\"\n          style={styles.input}\n          value={this.state.itemUrl}\n          onChangeText={(text) => {\n            this.setState({ itemUrl: text });\n          }} \n        /> \n        <Button title=\"Ajouter\" onPress= {this.addItem} />\n      </View>\n    ); \n  };\n\n  showModal = () => {\n    this.setState({ showAddModal: true });\n  }\n\n  closeModal = () => {\n    this.setState({ showAddModal: false });\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Button title=\"Ajouter\" onPress={this.showModal} />\n        <Modal\n          visible={this.state.showAddModal}\n          animationType=\"slide\"\n          transparent={false}\n        >\n          <View style={styles.modalContainer}>{this.renderItemForm()}</View>\n        </Modal>\n        <ScrollView>\n          {this.state.items.map((item) => (\n            <ItemView key={item.id} item={item} deleteItem={this.deleteItem} />\n          ))}\n        </ScrollView>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n    padding: 8,\n  },\n  input: {\n    height: 40,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  itemForm: {\n    margin: 16\n  },\n  itemContainer: {\n    marginVertical: 16,\n  },\n  itemName: {\n    fontSize: 20,\n    marginVertical: 4,\n  },\n  itemPrice: {\n    fontSize: 16,\n    marginVertical: 4,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    height: 400,\n    borderColor: \"black\",\n    borderWidth: 1,\n    marginVertical: 64,\n    marginHorizontal: 16,\n  }\n});\n"]},"metadata":{},"sourceType":"module"}